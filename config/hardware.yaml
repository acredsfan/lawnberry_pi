# LawnBerry hardware configuration (example)
# See specs and docs for details. This file declares which hardware modules
# are present. For SIM_MODE: 0, this file may be left minimal.

# Flat form (direct to HardwareConfig) or nested form (compatibility) supported.
# Example nested form used by tests:
#
gps:
  type: ZED-F9P
imu:
  type: BNO085
sensors:
  tof:
    - left
    - right
  # Optional advanced configuration for ToF sensors (VL53L0X)
  # Uncomment and adjust if your wiring differs from defaults
  tof_config:
    bus: 1            # I2C bus number
    left_address: 0x29
    right_address: 0x30
    ranging_mode: best_accuracy   # options: short|better_accuracy|best_accuracy|long_range|high_speed
    left_shutdown_gpio: 22       # optional XSHUT pin to assign unique address at boot
    right_shutdown_gpio: 23
    timing_budget_us: 200000     # optional: improve accuracy, adjust if needed
power_monitor: true
ina3221:
  # Solar input channel (ch1) uses 30A/75mV shunt => 0.0025 ohm
  shunt_ohms_ch1: 0.0025
  # Battery channel (ch3) uses 50A/75mV shunt => 0.0015 ohm
  shunt_ohms_ch3: 0.0015
victron:
  enabled: true
  # When using BLE, set device_id to the SmartSolar identifier (MAC or name) or leave null to auto-scan
  device_id: "EC:1A:A8:DD:99:C2"  # Replace with your device MAC (leave quoted)
  # Provide either the Instant Readout encryption key (preferred) or a pre-composed
  # '<address>@<key>' device_key string accepted by victron-ble.
  encryption_key: "<replace-with-instant-readout-key>"
  # device_key: "EC:1A:A8:DD:99:C2@<replace-with-instant-readout-key>"
  # Path to victron-ble CLI (must be installed on the system)
  cli_path: victron-ble
  # Optional adapter name/number to pass to victron-ble
  adapter: null
  # Prefer Victron SmartSolar telemetry for these channels when merging with INA3221.
  prefer_battery: true
  prefer_solar: true
  prefer_load: true
motor_controller: robohat-rp2040
blade_controller: ibt-4

# Flat alternatives (uncomment to use):
# gps_type: zed-f9p-usb
gps_ntrip_enabled: true   # Set true if RTK corrections are enabled on the ZED-F9P (configured via u-center)
# imu_type: bno085-uart
# tof_sensors: [left, right]
# env_sensor: true
# power_monitor: true
# motor_controller: robohat-rp2040   # Drive via RoboHAT → Cytron MDDRC10 (preferred)
# blade_controller: ibt-4            # Blade via IBT-4 H-Bridge (GPIO24→IN1, GPIO25→IN2)
# camera_enabled: false
